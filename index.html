<!DOCTYPE html>
<html>
    <head>    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>      
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <title>TechStore</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="mockups/main.js"></script>
    
    </head>
    <body onload="initSite()">
        <div class="topnav" style="height:40px;background-color: #212121;">
            <a class="active" href="index.html" style="height:40px;background-color: #212121;"><b>TechStore</b></a>
            <a href="kundvagn.html" style="float:right;background-color: #212121;"><i class="fa fa-shopping-cart" style="font-size:24px;color:white;background-color: #212121;"></i></a>
            <a href="#" id="count-cart" style="float:right;background-color: #212121;">0</a>
            <a href="#" style="float:right;background-color: #212121;"> <button id="clear-cart" class="mobile" style="background-color: #212121;color:white;border:0;">Rensa vagnen</button></a>
        </div>
     
    </body >
    <script src="mockups/shoppingCart.js"></script>
<<<<<<< HEAD
    <script src="mockups/shopingindex.js"></script>
    
   
=======
    <script>
    ///main div
    var listOfProducts;

    /** Get products from the json file and store it in a gobal variable */
    function loadProducts() {
        fetch("products.json")
        .then(function(response) {
        return response.json();
        })
        .then(function(products) {
        listOfProducts = products;
        addProductsToWebpage();
    });
    };
    function initSite() {
    loadProducts();
    }
    function addProductsToWebpage() {
    var ul = document.createElement('ul');
    for ( i in listOfProducts) {
        var li = document.createElement('li');
        var h2 = document.createElement('h2');
        h2.innerText = listOfProducts[i].title;
        var p = document.createElement('p');
        p.innerText = listOfProducts[i].description;
        var myImage = document.createElement('img');
        myImage.setAttribute('src','assets/'+listOfProducts[i].image);
        var h4 = document.createElement('h4');
        h4.innerText = listOfProducts[i].price;
        var Button = document.createElement('button');
        Button.setAttribute('data-name', listOfProducts[i].name);
        Button.setAttribute('data-price', listOfProducts[i].price);
       Button.setAttribute('data', JSON.stringify(listOfProducts[i]));
        Button.setAttribute('class', 'add-to-cart');
       Button.setAttribute('onclick', "addProduct(this)");
        Button.innerHTML = '<i class="fa fa-cart-arrow-down" style="font-size:22px;color:white;margin-right:4px;"></i>lägg till kundvägnen';
        Button.setAttribute('style','border-radius:5px;')
        h4.appendChild(Button);
        p.appendChild(myImage);
        p.appendChild(h4)
        li.appendChild(h2);
        li.appendChild(p);
        document.body.appendChild(li);
        }
   
    function addProduct(element) {
    }

      //jquery
            $(".add-to-cart").click(function(event) {
            event.preventDefault();
            var name = $(this).attr("data-name");
            var price = Number($(this).attr("data-price"));
            shoppingCart.addItemToCart(name,price,1);
            displayCart();
        });
        
        $("#clear-cart").click(function(event){
            shoppingCart.ClearCart();
            displayCart();
        });
         function  displayCart() {
            var obj = ["iPhone X","One Plus 5","Galaxy S8","LG V30","iPhone_XS",
        "iphone7-guld","samsung_Crown","razerphone2","Xperia_XZ3","Samsung_Xcover"]
            var cartArray = shoppingCart.listCart();
            var output = "";
            for (var i in cartArray) {
                var div = document.createElement("div");
                var img = document.createElement("img");
                img.src = cartArray[i].image;


                div.appendChild(img);
                console.log(div)


                output +="<div style='font-size:smaller;border-radius:5px; border:1px solid blue;display:inline-block;color:black;margin:4px;'>" 
                    + '<img src="'+'assets/'+cartArray[i].price+'.png">'+'<br>'
                    +'<h4>'+obj[i] +'</h4>'
                    +" <input class='item-count' type = 'number' style='width:33px;height:19px;border-radius:3px;' data-name ='"  
                    +cartArray[i].name
                    + "' value ='" +  cartArray[i].count+ "' >"
                    + " x " + cartArray[i].price
                     +  " = " + cartArray[i].total.toFixed(2)
                     + " kr "+'<br>'
                    + "<button style='background-color:red;color:white;border-radius:5px 0 0 5px;' class='plus-item' data-name='"
                    +cartArray[i].name+"' >+</button>"
                    + "<button style='background-color:red;color:white;' class='subtract-item' data-name='"
                    +cartArray[i].name+"' >-</button>"
                    + "<button class='delete-item' style='background-color:red;color:white;border-radius:0 5px 5px 0;' data-name='"
                    +cartArray[i].name+"' ><i class='fa fa-trash-o' style='font-size:16px;color:white'></i> Ta bort</button>" 
                    + "</div>"
             }        
                    
                    
           
            $("#show-cart").html(output);
            $("#count-cart").html(shoppingCart.countCart());
            $("#total-cart").html(shoppingCart.totalCart());
        }
        $("#show-cart").on("click", ".delete-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.removeItemFromCartAll(name);
        displayCart();
        });
        $("#show-cart").on("click", ".subtract-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.removeItemFromCart(name);
        displayCart();
        });
        $("#show-cart").on("click", ".plus-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.addItemToCart(name,0,1);
        displayCart();
        });
        $("#show-cart").on("change", ".item-count", function(event) {
            var name = $(this).attr("data-name");
            var count =Number($(this).val());
            shoppingCart.setCountForItem(name,count);
            displayCart();
        })
       
        displayCart();
        //var array = listCart();
        addProduct();
        ///
    }
    </script>
>>>>>>> 85f762fe37df61b9e1d5824407ffbc2badb81099
</html>